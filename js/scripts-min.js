var WriteUsLink=document.querySelector(".btn-write-us"),WriteUs=document.querySelector(".modal-write-us");if(WriteUsLink&&WriteUs){var form=WriteUs.querySelector(".form-write-us"),form_name=WriteUs.querySelector(".write-us-name"),form_email=WriteUs.querySelector(".write-us-email"),form_text=WriteUs.querySelector(".write-us-text"),WriteUsClose=WriteUs.querySelector(".btn-modal-close");WriteUsLink.addEventListener("click",function(e){e.preventDefault(),WriteUs.classList.add("modal-show"),form_name.focus()}),WriteUsClose.addEventListener("click",function(e){e.preventDefault(),WriteUs.classList.remove("modal-show"),WriteUs.classList.remove("modal-error")}),form.addEventListener("submit",function(e){form_name.value&&form_email.value&&form_text.value||(e.preventDefault(),WriteUs.classList.remove("modal-error"),WriteUs.offsetWidth=WriteUs.offsetWidth,WriteUs.classList.add("modal-error"))})}var CartLink=document.querySelectorAll(".btn-buy"),Cart=document.querySelector(".modal-cart");if(CartLink&&Cart){for(var CartClose=Cart.querySelector(".btn-modal-close"),CartContinue=Cart.querySelector(".modal-cart .continue"),i=0;i<CartLink.length;i++)CartLink[i].addEventListener("click",function(e){e.preventDefault(),Cart.classList.add("modal-show")});CartClose.addEventListener("click",function(e){e.preventDefault(),Cart.classList.remove("modal-show")}),CartContinue.addEventListener("click",function(e){e.preventDefault(),Cart.classList.remove("modal-show")})}var Maplink=document.querySelector(".contacts .map"),MapModal=document.querySelector(".modal-map");if(Maplink&&MapModal){Maplink.addEventListener("click",function(e){e.preventDefault(),MapModal.classList.add("modal-show")});var MapClose=MapModal.querySelector(".btn-modal-close");MapClose.addEventListener("click",function(e){e.preventDefault(),MapModal.classList.remove("modal-show")})}var sliderElem=document.querySelector(".bar-bg"),sliderLine=document.querySelector(".bar-line"),thumbMin=document.querySelector(".min-button"),thumbMax=document.querySelector(".max-button");if(sliderElem&&sliderLine&&thumbMin&&thumbMax){var sliderCoords=getCoords(sliderElem),rangeEnd=sliderElem.offsetWidth-thumbMin.offsetWidth,min=parseInt(getComputedStyle(thumbMin).left),max=parseInt(getComputedStyle(thumbMax).left);sliderLine.style.width=max-min+"px",sliderLine.style.marginLeft=min+"px",document.getElementById("min-value").value=parseInt(300*min),document.getElementById("max-value").value=parseInt(300*max),thumbMin.onmousedown=function(e){var t=getCoords(thumbMin),o=e.pageX-t.left;return document.onmousemove=function(e){var t=e.pageX-o-sliderCoords.left;t<0&&(t=0),t>max-thumbMin.offsetWidth/2&&(t=max-thumbMin.offsetWidth/2),min=t,sliderLine.style.marginLeft=min+"px",sliderLine.style.width=max-min+"px",thumbMin.style.left=t+"px",document.getElementById("min-value").value=parseInt(300*t)},!(document.onmouseup=function(){console.log(getCoords(thumbMin)),console.log(min),document.onmousemove=document.onmouseup=null})},thumbMax.onmousedown=function(e){var t=getCoords(thumbMax),o=e.pageX-t.left;return document.onmousemove=function(e){var t=e.pageX-o-sliderCoords.left;t<min+thumbMin.offsetWidth/2&&(t=min+thumbMin.offsetWidth/2),rangeEnd<t&&(t=rangeEnd),max=t,sliderLine.style.width=max-min+"px",thumbMax.style.left=t+"px",document.getElementById("max-value").value=parseInt(300*t)},!(document.onmouseup=function(){document.onmousemove=document.onmouseup=null})}}function getCoords(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}